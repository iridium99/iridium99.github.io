<!DOCTYPE html>
<html>
<head>
    <title>Player Catalog - HaxBall Sim</title>
    <style>
        :root {
            --primary: #5865f2;
            --background: #1e1e2e;
            --card-bg: #2b2d3e;
            --text: #ffffff;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: var(--background);
            color: var(--text);
            margin: 0;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .filters {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        select, input {
            padding: 10px;
            border: 2px solid var(--primary);
            border-radius: 8px;
            background: var(--card-bg);
            color: var(--text);
            font-size: 14px;
        }
        
        .players-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .player-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 15px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .player-card:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
        }
        
        .player-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .player-rating {
            background: var(--primary);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 18px;
        }
        
        .player-name {
            font-size: 18px;
            font-weight: bold;
            margin: 0;
            flex-grow: 1;
            text-align: center;
        }
        
        .player-details {
            margin-top: 10px;
        }
        
        .player-detail {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
        }
        
        .detail-label {
            color: #a0a0a0;
        }
        
        .search-box {
            padding: 10px;
            width: 250px;
            border: 2px solid var(--primary);
            border-radius: 8px;
            background: var(--card-bg);
            color: var(--text);
        }
        
        .player-position {
            background: #ff6b6b;
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .player-nation {
            background: #4ecdc4;
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }

        .player-image {
            width: 100%;
            border-radius: 12px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üéØ Player Catalog</h1>
        <p>Browse all available players. Use <code>/buyplayer [name]</code> in Discord to purchase!</p>
    </div>

    <div class="filters">
        <select id="sort-select">
            <option value="rating-desc">Rating: High to Low</option>
            <option value="rating-asc">Rating: Low to High</option>
            <option value="name-asc">Name: A to Z</option>
            <option value="name-desc">Name: Z to A</option>
            <option value="price-desc">Price: High to Low</option>
            <option value="price-asc">Price: Low to High</option>
        </select>
        
        <select id="position-filter">
            <!-- General categories first -->
            <option value="all">All Positions</option>
            <option value="GK">Goalkeeper</option>
            <option value="DEF">Defender</option>
            <option value="MID">Midfielder</option>
            <option value="ATT">Attacker</option>

            <!-- Specific positions after -->
            <option value="CB">Center Back</option>
            <option value="RB">Right Back</option>
            <option value="LB">Left Back</option>
            <option value="CDM">Defensive Mid</option>
            <option value="CM">Center Mid</option>
            <option value="CAM">Attacking Mid</option>
            <option value="RW">Right Wing</option>
            <option value="LW">Left Wing</option>
            <option value="ST">Striker</option>
            <option value="CF">Center Forward</option>
        </select>
        
        <select id="rating-filter">
            <option value="all">All Ratings</option>
            <option value="90+">90+ OVR</option>
            <option value="85-89">85-89 OVR</option>
            <option value="80-84">80-84 OVR</option>
            <option value="75-79">75-79 OVR</option>
            <option value="70-74">70-74 OVR</option>
            <option value="60-69">60-69 OVR</option>
            <option value="40-59">40-59 OVR</option>
        </select>
        
        <input type="text" id="search-box" placeholder="Search players..." class="search-box">
    </div>

    <div class="players-grid" id="players-container">
        <!-- Players will be loaded here -->
    </div>

    <script>
        const allPlayers = [
            {id:1,name:"Marcus Rashford",rating:85,position:"ST",nation:"England",buy_price:168750,sell_price:113062,img:"cards/rashford.png"},
            {id:2,name:"Bukayo Saka",rating:83,position:"RW",nation:"England",buy_price:106875,sell_price:71606,img:"cards/saka.png"},
            {id:3,name:"Phil Foden",rating:84,position:"CAM",nation:"England",buy_price:136875,sell_price:91706,img:"cards/foden.png"},
            {id:4,name:"Cristiano Ronaldo",rating:90,position:"ST",nation:"Portugal",buy_price:675000,sell_price:452250,img:"cards/ronaldo.png"},
            {id:5,name:"Lionel Messi",rating:91,position:"RW",nation:"Argentina",buy_price:990000,sell_price:663300,img:"cards/messi.png"},
            {id:6,name:"Kylian Mbapp√©",rating:88,position:"ST",nation:"France",buy_price:472500,sell_price:316575,img:"cards/mbappe.png"},
            {id:7,name:"Kevin De Bruyne",rating:87,position:"CAM",nation:"Belgium",buy_price:371250,sell_price:248512,img:"cards/debruyne.png"},
            {id:8,name:"Virgil van Dijk",rating:86,position:"CB",nation:"Netherlands",buy_price:270000,sell_price:180900,img:"cards/vandijk.png"},
            {id:9,name:"Neymar Jr",rating:85,position:"LW",nation:"Brazil",buy_price:168750,sell_price:113062,img:"cards/neymar.png"},
            {id:10,name:"shit guy",rating:55,position:"ST",nation:"Poland",buy_price:540,sell_price:384188,img:"cards/shit_guy.png"}
        ];

        const positionCategories = {
            'DEF': ['CB', 'RB', 'LB'],
            'MID': ['CDM', 'CM', 'CAM'],
            'ATT': ['RW', 'LW', 'ST', 'CF']
        };

        let filteredPlayers = [...allPlayers];

        function displayPlayers(playersToDisplay) {
            const container = document.getElementById('players-container');
            container.innerHTML = '';

            if (playersToDisplay.length === 0) {
                container.innerHTML = '<p style="text-align:center;grid-column:1/-1;color:#a0a0a0;">No players found matching your filters.</p>';
                return;
            }

            playersToDisplay.forEach(player => {
                const card = document.createElement('div');
                card.className = 'player-card';
                card.innerHTML = `
                    <img src="${player.img}" alt="${player.name}" class="player-image">
                    <div class="player-header">
                        <div class="player-rating">‚≠ê ${player.rating}</div>
                        <h3 class="player-name">${player.name}</h3>
                    </div>
                    <div class="player-details">
                        <div class="player-detail">
                            <span class="detail-label">Position:</span>
                            <span class="player-position">${player.position}</span>
                        </div>
                        <div class="player-detail">
                            <span class="detail-label">Nation:</span>
                            <span class="player-nation">${player.nation}</span>
                        </div>
                        <div class="player-detail">
                            <span class="detail-label">Buy Price:</span>
                            <span>üí∞ ${player.buy_price.toLocaleString()} coins</span>
                        </div>
                        <div class="player-detail">
                            <span class="detail-label">Sell Price:</span>
                            <span>üíµ ${player.sell_price.toLocaleString()} coins</span>
                        </div>
                    </div>
                    <p style="margin-top:15px;text-align:center;font-size:12px;color:#a0a0a0;">
                        Use <code>/buyplayer ${player.name}</code> in Discord
                    </p>
                `;
                container.appendChild(card);
            });
        }

        function filterAndSortPlayers() {
            const sortValue = document.getElementById('sort-select').value;
            const positionFilter = document.getElementById('position-filter').value;
            const ratingFilter = document.getElementById('rating-filter').value;
            const searchTerm = document.getElementById('search-box').value.toLowerCase();

            filteredPlayers = allPlayers.filter(player => {
                let matchesPosition = true;
                if(positionFilter !== 'all'){
                    if(['DEF','MID','ATT'].includes(positionFilter)){
                        matchesPosition = positionCategories[positionFilter].includes(player.position);
                    } else {
                        matchesPosition = player.position === positionFilter;
                    }
                }

                const matchesSearch = searchTerm === '' ||
                    player.name.toLowerCase().includes(searchTerm) ||
                    player.nation.toLowerCase().includes(searchTerm);

                let matchesRating = true;
                if(ratingFilter !== 'all'){
                    if(ratingFilter === '90+'){
                        matchesRating = player.rating >= 90;
                    } else {
                        const [min,max] = ratingFilter.split('-').map(Number);
                        matchesRating = player.rating >= min && player.rating <= max;
                    }
                }

                return matchesPosition && matchesSearch && matchesRating;
            });

            switch(sortValue){
                case'rating-desc': filteredPlayers.sort((a,b)=>b.rating-a.rating); break;
                case'rating-asc': filteredPlayers.sort((a,b)=>a.rating-b.rating); break;
                case'name-asc': filteredPlayers.sort((a,b)=>a.name.localeCompare(b.name)); break;
                case'name-desc': filteredPlayers.sort((a,b)=>b.name.localeCompare(a.name)); break;
                case'price-desc': filteredPlayers.sort((a,b)=>b.buy_price-a.buy_price); break;
                case'price-asc': filteredPlayers.sort((a,b)=>a.buy_price-b.buy_price); break;
            }

            displayPlayers(filteredPlayers);
        }

        document.getElementById('sort-select').addEventListener('change', filterAndSortPlayers);
        document.getElementById('position-filter').addEventListener('change', filterAndSortPlayers);
        document.getElementById('rating-filter').addEventListener('change', filterAndSortPlayers);
        document.getElementById('search-box').addEventListener('input', filterAndSortPlayers);

        filterAndSortPlayers();
    </script>
</body>
</html>
